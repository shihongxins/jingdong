{"version":3,"sources":["webpack:///./src/views/address/AddressList.vue","webpack:///./src/views/address/AddressList.vue?9c80","webpack:///./src/views/address/AddressList.vue?a64c"],"names":["class","status","handleActionBtnClick","addressList","address","key","_id","name","phone","city","department","houseNumber","to","data","getAddressList","result","errno","message","router","etype","push","query","eventType","components","AddressHeader","Toast","setup","render","__scopeId"],"mappings":"6NACOA,MAAM,W,GAIJA,MAAM,iB,EACT,eAA4C,MAAxCA,MAAM,wBAAuB,UAAM,G,GAKhCA,MAAM,0B,GACJA,MAAM,Y,GACNA,MAAM,S,GAEVA,MAAM,yB,EAWP,eAA2D,KAAxDA,MAAM,+CAA6C,S,oMAzB9D,eA6BM,MA7BN,EA6BM,CA5BJ,eAE0C,GADvCC,OAAQ,SACR,iBAAgB,EAAAC,sB,6BACnB,eAwBM,MAxBN,EAwBM,CAvBJ,G,mBACA,eAqBM,2BAnBc,EAAAC,aAAW,SAAtBC,G,wBAFT,eAqBM,OApBJJ,MAAM,gBAELK,IAAKD,EAAQE,K,CACd,eAGM,MAHN,EAGM,CAFJ,eAA4C,MAA5C,EAA4C,eAApBF,EAAQG,MAAI,GACpC,eAA0C,MAA1C,EAA0C,eAArBH,EAAQI,OAAK,KAEpC,eAEI,IAFJ,EAEI,eADAJ,EAAQK,MAAM,IAAC,eAAEL,EAAQM,YAAY,IAAC,eAAEN,EAAQO,aAAW,GAE/D,eASc,GARXC,GAAE,C,qDAAoH,EAAQ,O,YAO/H,iBAA2D,CAA3D,M,iCAKR,eAAS,I,2FAWL,EAAuB,WAE3B,IAAMC,EAAO,eAAS,CAAEV,YAAa,KAC/BW,EAAa,yDAAI,6HAEE,eAAI,qBAFN,OAEbC,EAFa,OAGfA,GAA2B,IAAjBA,EAAOC,OAAeD,EAAOF,KACzCA,EAAKV,YAAcY,EAAOF,KAE1B,eAAU,gBAAD,OAAiBE,EAAOE,UANhB,mDASnB,eAAU,gBAAD,OAAiB,KAAEA,UATT,yDAAJ,qDAYnBH,IAfiC,MAgBT,eAAOD,GAAvBV,EAhByB,EAgBzBA,YAEFe,EAAS,iBACThB,EAAuB,SAACiB,GACd,QAAVA,GACFD,EAAOE,KAAK,CAAEb,KAAM,cAAec,MAAO,CAAEC,UAAWH,MAG3D,MAAO,CAAEhB,cAAaD,yBAGT,GACbK,KAAM,cACNgB,WAAY,CACVC,gBAAA,KACAC,QAAA,MAEFC,MANa,WAOX,yBACK,O,UCxET,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCRf,W","file":"js/addressList.2021f323.js","sourcesContent":["<template>\n  <div class=\"address\">\n    <AddressHeader\n      :status=\"'manage'\"\n      @actionBtnClick=\"handleActionBtnClick\"/>\n    <div class=\"address__list\">\n      <h4 class=\"address__list__title\">我的收货地址</h4>\n      <div\n        class=\"address__item\"\n        v-for=\"address in addressList\"\n        :key=\"address._id\">\n        <div class=\"address__item__contact\">\n          <div class=\"username\">{{address.name}}</div>\n          <div class=\"phone\">{{address.phone}}</div>\n        </div>\n        <p class=\"address__item__detail\">\n          {{address.city}} {{address.department}} {{address.houseNumber}}\n        </p>\n        <router-link\n          :to=\"{\n            name: 'AddressEdit',\n            query: {\n              eventType: 'edit',\n              addressId: address._id\n            }\n          }\">\n          <i class=\"address__item__edit__btn iconfont icon-back\"></i>\n        </router-link>\n      </div>\n    </div>\n  </div>\n  <Toast />\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue'\nimport { get } from '../../utils/request'\nimport AddressHeader from './components/AddressHeader'\nimport Toast, { showToast } from '../../components/Toast'\nimport { useRouter } from 'vue-router'\n\n// 用户收货地址列表逻辑\nconst useAddressListEffect = () => {\n  // 加载用户收获地址列表数据\n  const data = reactive({ addressList: [] })\n  const getAddressList = async () => {\n    try {\n      const result = await get('/api/user/address')\n      if (result && result.errno === 0 && result.data) {\n        data.addressList = result.data\n      } else {\n        showToast(`获取用户收货地址列表失败！${result.message}`)\n      }\n    } catch (e) {\n      showToast(`获取用户收货地址列表出错！${e.message}`)\n    }\n  }\n  getAddressList()\n  const { addressList } = toRefs(data)\n  // 顶部 header action btn click 事件（新增跳转到详情）\n  const router = useRouter()\n  const handleActionBtnClick = (etype) => {\n    if (etype === 'new') {\n      router.push({ name: 'AddressEdit', query: { eventType: etype } })\n    }\n  }\n  return { addressList, handleActionBtnClick }\n}\n\nexport default {\n  name: 'AddressList',\n  components: {\n    AddressHeader,\n    Toast\n  },\n  setup () {\n    return {\n      ...useAddressListEffect()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../assets/style/variables.scss';\n\n.address {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  a {\n    text-decoration: none;\n  }\n}\n.address__list {\n  position: absolute;\n  top: .44rem;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  box-sizing: border-box;\n  padding: .16rem .18rem;\n  overflow: hidden auto;\n  background: $search-bgcolor;\n  line-height: .2rem;\n  font-size: .14rem;\n  &__title {\n    margin: 0;\n    font-weight: normal;\n    color: $content-fontcolor;\n  }\n  .address__item {\n    position: relative;\n    margin-top: .16rem;\n    border-radius: .04rem;\n    padding: .18rem .16rem;\n    background: #fff;\n    &__contact {\n      margin-right: .63rem;\n      color: $light-fontcolor;\n      display: flex;\n      justify-content: space-between;\n    }\n    &__detail {\n      margin: .08rem .63rem 0 0;\n      color: $content-fontcolor;\n    }\n    &__edit__btn {\n      position: absolute;\n      right: .16rem;\n      top: 0;\n      bottom: 0;\n      margin: auto;\n      width: .16rem;\n      height: .16rem;\n      line-height: .16rem;\n      font-size: .16rem;\n      transform: rotate(180deg);\n      color: $light-fontcolor;\n    }\n  }\n}\n</style>\n","import { render } from \"./AddressList.vue?vue&type=template&id=439aec43&scoped=true\"\nimport script from \"./AddressList.vue?vue&type=script&lang=js\"\nexport * from \"./AddressList.vue?vue&type=script&lang=js\"\n\nimport \"./AddressList.vue?vue&type=style&index=0&id=439aec43&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-439aec43\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AddressList.vue?vue&type=style&index=0&id=439aec43&lang=scss&scoped=true\""],"sourceRoot":""}