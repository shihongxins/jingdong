(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0eb4":function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n("7a23"),a=Object(r["M"])("data-v-3350b2b6");Object(r["u"])("data-v-3350b2b6");var c={key:0,class:"toast"};Object(r["s"])();var o=a((function(e,t,n,a,o,s){return e.data.content.length?(Object(r["r"])(),Object(r["d"])("div",c,Object(r["C"])(e.data.content),1)):Object(r["e"])("",!0)})),s=Object(r["v"])({content:"",time:3e3}),u=function(e,t){e.length&&(t>500&&(s.time=t),s.content=e)},i={name:"Toast",setup:function(){var e=Object(r["D"])(s),t=e.content;return Object(r["H"])(t,(function(e){e.length>0&&setTimeout((function(){s.content="",s.time=3e3}),s.time)})),{data:s}}};n("aa26");i.render=o,i.__scopeId="data-v-3350b2b6";t["a"]=i},"306c":function(e,t,n){},"498a":function(e,t,n){"use strict";var r=n("23e7"),a=n("58a8").trim,c=n("c8d2");r({target:"String",proto:!0,forced:c("trim")},{trim:function(){return a(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),a=n("5899"),c="["+a+"]",o=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),u=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},aa26:function(e,t,n){"use strict";n("d0a2")},c8d2:function(e,t,n){var r=n("d039"),a=n("5899"),c="​᠎";e.exports=function(e){return r((function(){return!!a[e]()||c[e]()!=c||a[e].name!==e}))}},d0a2:function(e,t,n){},ede4:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=Object(r["M"])("data-v-65a01810");Object(r["u"])("data-v-65a01810");var c={class:"wrapper"},o=Object(r["h"])("img",{class:"wrapper__img",src:"https://shihongxins.github.io/data-mock/shop/imgs/user.png",alt:""},null,-1),s={action:"",class:"wrapper__form",autocomplete:"off"},u={class:"wrapper__form__input"},i={class:"wrapper__form__input"},p={class:"wrapper__form__button"},d={class:"wrapper__link"},b=Object(r["h"])("a",{class:"wrapper__link-findpwd"},"找回密码",-1);Object(r["s"])();var l=a((function(e,t,n,a,l,f){var m=Object(r["y"])("Toast");return Object(r["r"])(),Object(r["d"])(r["a"],null,[Object(r["h"])("div",c,[o,Object(r["h"])("form",s,[Object(r["h"])("div",u,[Object(r["J"])(Object(r["h"])("input",{type:"text",name:"username",placeholder:"请输入手机号",autocomplete:"off","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.username=e})},null,512),[[r["F"],a.username]])]),Object(r["h"])("div",i,[Object(r["J"])(Object(r["h"])("input",{type:"password",name:"password",placeholder:"请输入密码",autocomplete:"new-password","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.password=e})},null,512),[[r["F"],a.password]])]),Object(r["h"])("div",p,[Object(r["h"])("button",{class:"button-login",type:"button",onClick:t[3]||(t[3]=function(){return a.handleLogin&&a.handleLogin.apply(a,arguments)})},"登录")])]),Object(r["h"])("div",d,[Object(r["h"])("a",{class:"wrapper__link-register",onClick:t[4]||(t[4]=Object(r["L"])((function(){return a.handleJumpRegister&&a.handleJumpRegister.apply(a,arguments)}),["prevent"]))},"立即注册"),b])]),Object(r["h"])(m)],64)})),f=n("1da1"),m=(n("96cf"),n("498a"),n("6c02")),j=n("b775"),O=n("0eb4"),h=function(){var e=Object(m["d"])(),t=Object(r["v"])({username:"",password:""}),n=function(){var n=Object(f["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""!==t.username.trim()&&""!==t.password.trim()){n.next=3;break}return Object(O["b"])("请输入完整登录信息"),n.abrupt("return");case 3:return n.prev=3,Object(O["b"])("... ..."),n.next=7,Object(j["b"])("/api/user/login",t,{headers:{"content-type":"application/json"}});case 7:r=n.sent,0===r.errno?(Object(O["b"])("登录成功"),localStorage.setItem("isAuthenticated","true"),e.push({name:"Home"})):Object(O["b"])("登录失败"+JSON.stringify(r)),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](3),Object(O["b"])("登录出错，".concat(n.t0.message));case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(){return n.apply(this,arguments)}}(),a=Object(r["D"])(t),c=a.username,o=a.password;return{username:c,password:o,handleLogin:n}},v=function(){var e=Object(m["d"])(),t=function(){e.push({name:"Register"})};return{handleJumpRegister:t}},g={name:"Login",components:{Toast:O["a"]},setup:function(){var e=h(),t=e.username,n=e.password,r=e.handleLogin,a=v(),c=a.handleJumpRegister;return{username:t,password:n,handleLogin:r,handleJumpRegister:c}}};n("fe37");g.render=l,g.__scopeId="data-v-65a01810";t["default"]=g},fe37:function(e,t,n){"use strict";n("306c")}}]);
//# sourceMappingURL=login.21ca24d7.js.map