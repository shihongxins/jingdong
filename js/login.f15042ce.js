(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0eb4":function(e,t,c){"use strict";c.d(t,"b",(function(){return i}));var n=c("7a23"),a=Object(n["H"])("data-v-3350b2b6");Object(n["t"])("data-v-3350b2b6");var r={key:0,class:"toast"};Object(n["r"])();var s=a((function(e,t,c,a,s,o){return e.data.content.length?(Object(n["q"])(),Object(n["d"])("div",r,Object(n["z"])(e.data.content),1)):Object(n["e"])("",!0)})),o=Object(n["u"])({content:"",time:3e3}),i=function(e,t){e.length&&(t>500&&(o.time=t),o.content=e)},u={name:"Toast",setup:function(){var e=Object(n["A"])(o),t=e.content;return Object(n["D"])(t,(function(e){e.length>0&&setTimeout((function(){o.content="",o.time=3e3}),o.time)})),{data:o}}};c("aa26");u.render=s,u.__scopeId="data-v-3350b2b6";t["a"]=u},"17e5":function(e,t,c){"use strict";c("2cc1")},"1f6c":function(e,t,c){"use strict";c("45ab")},"2cc1":function(e,t,c){},"45ab":function(e,t,c){},"498a":function(e,t,c){"use strict";var n=c("23e7"),a=c("58a8").trim,r=c("c8d2");n({target:"String",proto:!0,forced:r("trim")},{trim:function(){return a(this)}})},"578f":function(e,t,c){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,c){var n=c("1d80"),a=c("5899"),r="["+a+"]",s=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),i=function(e){return function(t){var c=String(n(t));return 1&e&&(c=c.replace(s,"")),2&e&&(c=c.replace(o,"")),c}};e.exports={start:i(1),end:i(2),trim:i(3)}},"5f6f":function(e,t,c){"use strict";c.r(t);var n=c("7a23"),a=Object(n["H"])("data-v-3cbe3af0");Object(n["t"])("data-v-3cbe3af0");var r={class:"header"},s={class:"search"},o=Object(n["h"])("i",{class:"iconfont icon-back"},null,-1),i=Object(n["h"])("div",{class:"search__content"},[Object(n["h"])("i",{class:"iconfont icon-search"}),Object(n["h"])("input",{class:"search__content__input",type:"search",name:"search",placeholder:"请输入商品名称搜索"})],-1);Object(n["r"])();var u=a((function(e,t,c,a,u,b){var l=Object(n["x"])("ShopInfo"),p=Object(n["x"])("ShopContent");return Object(n["q"])(),Object(n["d"])(n["a"],null,[Object(n["h"])("div",r,[Object(n["h"])("div",s,[Object(n["h"])("div",{class:"search__back",onClick:t[1]||(t[1]=function(){return a.handleBackClick&&a.handleBackClick.apply(a,arguments)})},[o]),i]),a.item._id?(Object(n["q"])(),Object(n["d"])(l,{key:0,item:a.item},null,8,["item"])):Object(n["e"])("",!0)]),Object(n["h"])(p)],64)})),b=c("1da1"),l=(c("96cf"),c("6c02")),p=c("b775"),d=c("d7d0"),j=(c("b0c0"),Object(n["H"])("data-v-e6eeec70"));Object(n["t"])("data-v-e6eeec70");var O={class:"content"},f={class:"categories"},h={class:"products"},m={class:"products__item__detail"},_={class:"products__item__name"},v={class:"products__item__sales"},g={class:"products__item__price"},k=Object(n["h"])("small",null,"￥",-1),w={class:"origin"},x=Object(n["h"])("div",{class:"products__item__action"},[Object(n["h"])("span",{class:"products__item__number--substract"},"-"),Object(n["h"])("span",{class:"products__item__number"},"0"),Object(n["h"])("span",{class:"products__item__number--add"},"+")],-1);Object(n["r"])();var C=j((function(e,t,c,a,r,s){return Object(n["q"])(),Object(n["d"])("div",O,[Object(n["h"])("div",f,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(a.categories,(function(e){return Object(n["q"])(),Object(n["d"])("div",{class:["categories__item",{"categories__item--active":e.tab==a.currentTab}],key:e.tab,onClick:function(t){return a.handleTabClick(e.tab)}},Object(n["z"])(e.name),11,["onClick"])})),128))]),Object(n["h"])("div",h,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(a.products,(function(e){return Object(n["q"])(),Object(n["d"])("div",{class:"products__item",key:e._id},[Object(n["h"])("img",{class:"products__item__img",src:e.imgUrl,alt:e.name},null,8,["src","alt"]),Object(n["h"])("div",m,[Object(n["h"])("h4",_,Object(n["z"])(e.name),1),Object(n["h"])("p",v,"月售 "+Object(n["z"])(e.sales)+" 件",1),Object(n["h"])("p",g,[k,Object(n["g"])(Object(n["z"])(e.price)+" ",1),Object(n["h"])("small",w,"￥"+Object(n["z"])(e.oldPrice),1)])]),x])})),128))])])})),y=function(){var e=Object(n["v"])("all"),t=Object(n["u"])([{name:"全部商品",tab:"all"},{name:"限时秒杀",tab:"seckill"},{name:"新鲜水果",tab:"fruit"},{name:"休闲零食",tab:"snack"},{name:"其他",tab:"others"}]),c=function(t){e.value=t};return{currentTab:e,categories:t,handleTabClick:c}},R=function(e){var t=Object(l["c"])(),c=t.params.id,a=Object(n["v"])(0),r=function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(p["a"])("/api/shop/".concat(c,"/products"),{params:{tab:e.value}});case 2:n=t.sent,console.log(n),n&&0===n.errno&&n.data&&(a.value=n.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n["E"])((function(){r()})),{products:a,getProducts:r}},T={name:"ShopContent",setup:function(){var e=y(),t=e.currentTab,c=e.categories,n=e.handleTabClick,a=R(t),r=a.products;return{currentTab:t,categories:c,products:r,handleTabClick:n}}};c("17e5");T.render=C,T.__scopeId="data-v-e6eeec70";var z=T,S=function(e){var t=Object(n["v"])(0),c=function(){var c=Object(b["a"])(regeneratorRuntime.mark((function c(){var n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.next=2,Object(p["a"])("/api/shop/".concat(e));case 2:n=c.sent,console.log(n),n&&0===n.errno&&n.data&&(t.value=n.data);case 5:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return c(),{item:t}},q=function(){var e=Object(l["d"])(),t=function(){e.back()};return{handleBackClick:t}},I={name:"Shop",components:{ShopInfo:d["a"],ShopContent:z},setup:function(){var e=Object(l["c"])(),t=S(e.params.id),c=t.item,n=q(),a=n.handleBackClick;return{item:c,handleBackClick:a}}};c("e799");I.render=u,I.__scopeId="data-v-3cbe3af0";t["default"]=I},7914:function(e,t,c){"use strict";c("fc3d")},aa26:function(e,t,c){"use strict";c("d0a2")},c8d2:function(e,t,c){var n=c("d039"),a=c("5899"),r="​᠎";e.exports=function(e){return n((function(){return!!a[e]()||r[e]()!=r||a[e].name!==e}))}},d0a2:function(e,t,c){},d7d0:function(e,t,c){"use strict";c("b0c0");var n=c("7a23"),a=Object(n["H"])("data-v-c1619086");Object(n["t"])("data-v-c1619086");var r={class:"shopinfo"},s={class:"shopinfo__content"},o={class:"shopinfo__content__title"},i={class:"shopinfo__content__tags"},u={class:"shopinfo__content__tag"},b={class:"shopinfo__content__tag"},l={class:"shopinfo__content__tag"},p={class:"shopinfo__content__highlight"};Object(n["r"])();var d=a((function(e,t,c,a,d,j){return Object(n["q"])(),Object(n["d"])("div",r,[Object(n["h"])("img",{class:"shopinfo__img",src:c.item.imgUrl,alt:c.item.name},null,8,["src","alt"]),Object(n["h"])("div",s,[Object(n["h"])("div",o,Object(n["z"])(c.item.name),1),Object(n["h"])("div",i,[Object(n["h"])("span",u,"月售: "+Object(n["z"])(c.item.sales)+"+",1),Object(n["h"])("span",b,"起送: ￥"+Object(n["z"])(c.item.expressLimit),1),Object(n["h"])("span",l,"运费: ￥"+Object(n["z"])(c.item.expressPrice),1)]),Object(n["h"])("p",p,Object(n["z"])(c.item.slogan),1)])])})),j={name:"ShopInfo",props:["item"]};c("1f6c");j.render=d,j.__scopeId="data-v-c1619086";t["a"]=j},e799:function(e,t,c){"use strict";c("578f")},ede4:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),a=Object(n["H"])("data-v-f1efa55e");Object(n["t"])("data-v-f1efa55e");var r={class:"wrapper"},s=Object(n["h"])("img",{class:"wrapper__img",src:"https://shihongxins.github.io/data-mock/shop/imgs/user.png",alt:""},null,-1),o={action:"",class:"wrapper__form",autocomplete:"off"},i={class:"wrapper__form__input"},u={class:"wrapper__form__input"},b={class:"wrapper__form__button"},l={class:"wrapper__link"},p=Object(n["h"])("a",{class:"wrapper__link-findpwd"},"找回密码",-1);Object(n["r"])();var d=a((function(e,t,c,a,d,j){var O=Object(n["x"])("Toast");return Object(n["q"])(),Object(n["d"])(n["a"],null,[Object(n["h"])("div",r,[s,Object(n["h"])("form",o,[Object(n["h"])("div",i,[Object(n["F"])(Object(n["h"])("input",{type:"text",name:"username",placeholder:"请输入手机号",autocomplete:"off","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.username=e})},null,512),[[n["C"],a.username]])]),Object(n["h"])("div",u,[Object(n["F"])(Object(n["h"])("input",{type:"password",name:"password",placeholder:"请输入密码",autocomplete:"new-password","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.password=e})},null,512),[[n["C"],a.password]])]),Object(n["h"])("div",b,[Object(n["h"])("button",{class:"button-login",type:"button",onClick:t[3]||(t[3]=function(){return a.handleLogin&&a.handleLogin.apply(a,arguments)})},"登录")])]),Object(n["h"])("div",l,[Object(n["h"])("a",{class:"wrapper__link-register",onClick:t[4]||(t[4]=Object(n["G"])((function(){return a.handleJumpRegister&&a.handleJumpRegister.apply(a,arguments)}),["prevent"]))},"立即注册"),p])]),Object(n["h"])(O)],64)})),j=c("1da1"),O=(c("96cf"),c("498a"),c("6c02")),f=c("b775"),h=c("0eb4"),m=function(){var e=Object(O["d"])(),t=Object(n["u"])({username:"",password:""}),c=function(){var c=Object(j["a"])(regeneratorRuntime.mark((function c(){var n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:if(""!==t.username.trim()&&""!==t.password.trim()){c.next=3;break}return Object(h["b"])("请输入完整登录信息"),c.abrupt("return");case 3:return c.prev=3,Object(h["b"])("... ..."),c.next=7,Object(f["b"])("/api/user/login",t,{headers:{"content-type":"application/json"}});case 7:n=c.sent,console.log(n),0===n.errno?(Object(h["b"])("登录成功"),localStorage.setItem("isAuthenticated","true"),e.push({name:"Home"})):Object(h["b"])("登录失败"+JSON.stringify(n)),c.next=16;break;case 12:c.prev=12,c.t0=c["catch"](3),console.log(c.t0),Object(h["b"])("登录出错，".concat(c.t0.message));case 16:case"end":return c.stop()}}),c,null,[[3,12]])})));return function(){return c.apply(this,arguments)}}(),a=Object(n["A"])(t),r=a.username,s=a.password;return{username:r,password:s,handleLogin:c}},_=function(){var e=Object(O["d"])(),t=function(){e.push({name:"Register"})};return{handleJumpRegister:t}},v={name:"Login",components:{Toast:h["a"]},setup:function(){var e=m(),t=e.username,c=e.password,n=e.handleLogin,a=_(),r=a.handleJumpRegister;return{username:t,password:c,handleLogin:n,handleJumpRegister:r}}};c("7914");v.render=d,v.__scopeId="data-v-f1efa55e";t["default"]=v},fc3d:function(e,t,c){}}]);
//# sourceMappingURL=login.f15042ce.js.map