(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["addressEdit"],{"4e99":function(e,t,a){"use strict";a.r(t);a("b0c0");var n=a("7a23"),c=Object(n["M"])("data-v-2c1eb293");Object(n["u"])("data-v-2c1eb293");var r={class:"address"},s={class:"address__form__wrapper"},d={class:"address__form"},u={class:"address__form__item"},o=Object(n["g"])(" 所在城市： "),b={class:"address__form__item"},l=Object(n["g"])(" 小区/大厦/学校： "),i={class:"address__form__item"},p=Object(n["g"])(" 楼号-门牌号： "),j={class:"address__form__item"},O=Object(n["g"])(" 收货人： "),m={class:"address__form__item"},h=Object(n["g"])(" 联系电话： ");Object(n["s"])();var f=c((function(e,t,a,c,f,v){var _=Object(n["y"])("AddressHeader"),y=Object(n["y"])("Toast");return Object(n["r"])(),Object(n["d"])(n["a"],null,[Object(n["h"])("div",r,[Object(n["h"])(_,{status:e.eventType,onActionBtnClick:e.handleActionBtnClick},null,8,["status","onActionBtnClick"]),Object(n["h"])("div",s,[Object(n["h"])("div",d,[Object(n["h"])("div",u,[Object(n["h"])("label",null,[o,Object(n["J"])(Object(n["h"])("input",{type:"text",name:"city",placeholder:"如重庆市","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.address.city=t})},null,512),[[n["F"],e.address.city]])])]),Object(n["h"])("div",b,[Object(n["h"])("label",null,[l,Object(n["J"])(Object(n["h"])("input",{type:"text",name:"department",placeholder:"如理工大学北苑","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.address.department=t})},null,512),[[n["F"],e.address.department]])])]),Object(n["h"])("div",i,[Object(n["h"])("label",null,[p,Object(n["J"])(Object(n["h"])("input",{type:"text",name:"housenumber",placeholder:"如B栋4-11号","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.address.houseNumber=t})},null,512),[[n["F"],e.address.houseNumber]])])]),Object(n["h"])("div",j,[Object(n["h"])("label",null,[O,Object(n["J"])(Object(n["h"])("input",{type:"text",name:"name",placeholder:"请填写收货人姓名","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.address.name=t})},null,512),[[n["F"],e.address.name]])])]),Object(n["h"])("div",m,[Object(n["h"])("label",null,[h,Object(n["J"])(Object(n["h"])("input",{type:"text",name:"phone",placeholder:"请填写收货人联系电话","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.address.phone=t})},null,512),[[n["F"],e.address.phone]])])])])])]),Object(n["h"])(y)],64)})),v=a("5530"),_=a("1da1"),y=(a("96cf"),a("6c02")),x=a("b775"),g=a("f81c"),k=a("0eb4"),w=function(){var e=Object(y["c"])(),t=e.query,a=t.eventType,c=t.addressId,r=Object(n["v"])({address:{}}),s=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x["a"])("/api/user/address/".concat(c));case 3:t=e.sent,t&&0===t.errno&&t.data?r.address=t.data:Object(k["b"])("获取用户收货地址详情失败！".concat(t.message)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),Object(k["b"])("获取用户收货地址详情出错！".concat(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();"edit"===a&&c>0&&s();var d=Object(n["D"])(r),u=d.address,o=Object(y["d"])(),b=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("save"!==t){e.next=17;break}if(n=u.value,!(n&&n.name&&n.phone&&n.department)){e.next=16;break}return r="/api/user/address"+("edit"===a&&c>0?"/".concat(c):""),e.prev=4,e.next=7,Object(x["b"])(r,n,{headers:{"content-type":"application/json"}});case 7:s=e.sent,s&&0===s.errno?(Object(k["b"])("更新收货地址成功！"),setTimeout((function(){o.push({name:"AddressList"})}),2e3)):Object(k["b"])("保存收货地址信息失败！".concat(s.message)),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),Object(k["b"])("保存收货地址信息出错！".concat(e.t0.message));case 14:e.next=17;break;case 16:Object(k["b"])("收货地址信息填写不完整！（姓名，电话，小区等为必填项）");case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return{eventType:a,address:u,handleActionBtnClick:b}},A={name:"AddressList",components:{AddressHeader:g["a"],Toast:k["a"]},setup:function(){return Object(v["a"])({},w())}};a("569a");A.render=f,A.__scopeId="data-v-2c1eb293";t["default"]=A},"569a":function(e,t,a){"use strict";a("ff33")},ff33:function(e,t,a){}}]);
//# sourceMappingURL=addressEdit.369fdc70.js.map