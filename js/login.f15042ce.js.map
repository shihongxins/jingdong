{"version":3,"sources":["webpack:///./src/components/Toast.vue","webpack:///./src/components/Toast.vue?d444","webpack:///./src/views/shop/components/Content.vue?4df9","webpack:///./src/components/ShopInfo.vue?8a05","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/views/shop/Shop.vue","webpack:///./src/views/shop/components/Content.vue","webpack:///./src/views/shop/components/Content.vue?4eed","webpack:///./src/views/shop/Shop.vue?f2c7","webpack:///./src/views/login/Login.vue?6837","webpack:///./src/components/Toast.vue?7de6","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/components/ShopInfo.vue","webpack:///./src/components/ShopInfo.vue?0263","webpack:///./src/views/shop/Shop.vue?229d","webpack:///./src/views/login/Login.vue","webpack:///./src/views/login/Login.vue?c907"],"names":["class","data","content","length","time","showToast","c","t","Toast","name","setup","value","setTimeout","render","__scopeId","$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","type","placeholder","handleBackClick","item","_id","categories","tab","currentTab","key","handleTabClick","products","product","src","imgUrl","alt","sales","price","oldPrice","route","shopId","params","id","getProducts","result","console","log","errno","getShopDetails","router","back","components","ShopInfo","ShopContent","fails","non","METHOD_NAME","expressLimit","expressPrice","slogan","props","action","autocomplete","username","password","handleLogin","handleJumpRegister","headers","localStorage","setItem","push","JSON","stringify","message"],"mappings":"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","file":"js/login.f15042ce.js","sourcesContent":["<template>\n  <div v-if=\"data.content.length\" class=\"toast\">\n    {{data.content}}\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs, watch } from 'vue'\n\n// toast data\nconst data = reactive({\n  content: '',\n  time: 3000\n})\n\n// show toast function\nconst showToast = (c, t) => {\n  if (c.length) {\n    if (t > 500) {\n      data.time = t\n    }\n    data.content = c\n  }\n}\n\n// Toast component by Vue Composition API\nconst Toast = {\n  name: 'Toast',\n  setup () {\n    // auto hide toast\n    const { content } = toRefs(data)\n    watch(content, (value) => {\n      if (value.length > 0) {\n        setTimeout(() => {\n          data.content = ''\n          data.time = 3000\n        }, data.time)\n      }\n    })\n    return {\n      data\n    }\n  }\n}\n\nexport { Toast as default, showToast }\n</script>\n\n<style lang=\"scss\" scoped>\n.toast {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: .05rem;\n  padding: .1rem;\n  color: #fff;\n  background: rgba(0, 0, 0, 0.4);\n}\n</style>\n","import { render } from \"./Toast.vue?vue&type=template&id=3350b2b6&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=3350b2b6&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3350b2b6\"\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Content.vue?vue&type=style&index=0&id=e6eeec70&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ShopInfo.vue?vue&type=style&index=0&id=c1619086&lang=scss&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","<template>\n  <div class=\"header\">\n    <div class=\"search\">\n      <div\n        class=\"search__back\"\n        @click=\"handleBackClick\">\n        <i class=\"iconfont icon-back\"></i>\n      </div>\n      <div class=\"search__content\">\n        <i class=\"iconfont icon-search\"></i>\n        <input class=\"search__content__input\" type=\"search\" name=\"search\" placeholder=\"请输入商品名称搜索\">\n      </div>\n    </div>\n    <ShopInfo :item=\"item\" v-if=\"item._id\"/>\n  </div>\n  <ShopContent />\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { get } from '../../utils/request'\nimport ShopInfo from '../../components/ShopInfo'\nimport ShopContent from './components/Content'\n\n// 获取商品信息的逻辑\nconst getShopDetailsEffect = (id) => {\n  const item = ref(0)\n  const getShopDetails = async () => {\n    const result = await get(`/api/shop/${id}`)\n    console.log(result)\n    if (result && result.errno === 0 && result.data) {\n      item.value = result.data\n    }\n  }\n  getShopDetails()\n  return { item }\n}\n\n// 返回上一页逻辑\nconst useRouterBackEffect = () => {\n  const router = useRouter()\n  const handleBackClick = () => {\n    router.back()\n  }\n  return { handleBackClick }\n}\n\nexport default {\n  name: 'Shop',\n  components: {\n    ShopInfo,\n    ShopContent\n  },\n  setup () {\n    const route = useRoute()\n    const { item } = getShopDetailsEffect(route.params.id)\n    const { handleBackClick } = useRouterBackEffect()\n    return {\n      item,\n      handleBackClick\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../assets/style/mixins.scss';\n@import '../../assets/style/variables.scss';\n\n.header {\n  padding: 0 .18rem;\n  ::v-deep .shopinfo {\n    .shopinfo__content {\n      border: none;\n    }\n  }\n  .search {\n    margin: .14rem 0 .04rem;\n    display: flex;\n    &__back {\n      width: .3rem;\n      height: .32rem;\n      line-height: .32rem;\n      text-align: center;\n      .iconfont {\n        font-size: .2rem;\n        color: #b6b6b6;\n      }\n    }\n    &__content {\n      flex: 1;\n      position: relative;\n      .iconfont {\n        position: absolute;\n        top: .08rem;\n        left: .16rem;\n        color: $search-fontcolor;\n      }\n      &__input {\n        @include search__input;\n        padding: 0 .2rem 0 .44rem;\n        color: $content-fontcolor;\n        &::placeholder {\n          color: $content-fontcolor;\n        }\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"content\">\n    <div class=\"categories\">\n      <div\n        class=\"categories__item\"\n        v-for=\"item in categories\"\n        :key=\"item.tab\"\n        @click=\"handleTabClick(item.tab)\"\n        :class=\"{'categories__item--active': (item.tab == currentTab)}\"\n      >{{item.name}}</div>\n    </div>\n    <div class=\"products\">\n      <div\n        class=\"products__item\"\n        v-for=\"product in products\"\n        :key=\"product._id\">\n        <img class=\"products__item__img\" :src=\"product.imgUrl\" :alt=\"product.name\">\n        <div class=\"products__item__detail\">\n          <h4 class=\"products__item__name\">{{product.name}}</h4>\n          <p class=\"products__item__sales\">月售 {{product.sales}} 件</p>\n          <p class=\"products__item__price\">\n            <small>￥</small>{{product.price}}\n            <small class=\"origin\">￥{{product.oldPrice}}</small>\n          </p>\n        </div>\n        <div class=\"products__item__action\">\n          <span class=\"products__item__number--substract\">-</span>\n          <span class=\"products__item__number\">0</span>\n          <span class=\"products__item__number--add\">+</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, ref, watchEffect } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { get } from '../../../utils/request'\n\n// 商品种类 Tab 切换逻辑\nconst useCatrgoriesEffect = () => {\n  const currentTab = ref('all')\n  const categories = reactive([\n    { name: '全部商品', tab: 'all' },\n    { name: '限时秒杀', tab: 'seckill' },\n    { name: '新鲜水果', tab: 'fruit' },\n    { name: '休闲零食', tab: 'snack' },\n    { name: '其他', tab: 'others' }\n  ])\n  const handleTabClick = (tab) => {\n    currentTab.value = tab\n  }\n  return { currentTab, categories, handleTabClick }\n}\n\n// 获取商品逻辑\nconst useGetProductsEffect = (currentTab) => {\n  const route = useRoute()\n  const shopId = route.params.id\n  const products = ref(0)\n  const getProducts = async () => {\n    const result = await get(`/api/shop/${shopId}/products`, { params: { tab: currentTab.value } })\n    console.log(result)\n    if (result && result.errno === 0 && result.data) {\n      products.value = result.data\n    }\n  }\n  watchEffect(() => {\n    getProducts()\n  })\n  return { products, getProducts }\n}\n\nexport default {\n  name: 'ShopContent',\n  setup () {\n    const { currentTab, categories, handleTabClick } = useCatrgoriesEffect()\n    const { products } = useGetProductsEffect(currentTab)\n    return {\n      currentTab,\n      categories,\n      products,\n      handleTabClick\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../../assets/style/mixins.scss';\n@import '../../../assets/style/variables.scss';\n\n.content {\n  position: absolute;\n  top: 1.5rem;\n  right: 0;\n  bottom: .5rem;\n  left: 0;\n  display: flex;\n}\n.categories {\n  width: .76rem;\n  height: 100%;\n  font-size: .14rem;\n  overflow: hidden auto;\n  text-align: center;\n  color: $content-fontcolor;\n  background: $search-bgcolor;\n  &__item {\n    line-height: .4rem;\n    &--active {\n      background: $white-fontcolor;\n    }\n  }\n}\n.products {\n  flex: 1;\n  height: 100%;\n  overflow: hidden auto;\n  &__item {\n    border-bottom: 1px solid $content-bgcolor;\n    padding: .12rem .16rem;\n    display: flex;\n    position: relative;\n    &__img {\n      margin-right: .16rem;\n      width: .68rem;\n      height: .68rem;\n    }\n    &__detail {\n      flex: 1;\n      color: $content-fontcolor;\n      overflow: hidden;\n    }\n    &__name {\n      margin: 0;\n      line-height: .2rem;\n      font-size: .14rem;\n      @include ellipsis;\n    }\n    &__sales {\n      margin: .06rem 0;\n      line-height: .16rem;\n      font-size: .12rem;\n    }\n    &__price {\n      margin: 0;\n      font-size: .14rem;\n      line-height: .2rem;\n      color: $highlight-fontcolor;\n      small {\n        font-size: .12rem;\n        vertical-align: bottom;\n      }\n      .origin {\n        margin-left: .06rem;\n        color: $notice-fontcolor;\n        text-decoration: line-through;\n      }\n    }\n    &__action {\n      position: absolute;\n      right: .18rem;\n      bottom: .12rem;\n      span {\n        display: inline-block;\n        box-sizing: border-box;\n        width: .2rem;\n        height: .2rem;\n        line-height: 0.2rem;\n        font-size: 0.16rem;\n        vertical-align: middle;\n        text-align: center;\n        &.products__item__number--substract {\n          border: 1px solid $medium-fontcolor;\n          border-radius: 50%;\n          color: $medium-fontcolor;\n        }\n        &.products__item__number {\n          margin: 0 .06rem;\n          width: auto;\n        }\n        &.products__item__number--add {\n          border-radius: 50%;\n          color: $white-fontcolor;\n          background: $btn-bgcolor;\n        }\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./Content.vue?vue&type=template&id=e6eeec70&scoped=true\"\nimport script from \"./Content.vue?vue&type=script&lang=js\"\nexport * from \"./Content.vue?vue&type=script&lang=js\"\n\nimport \"./Content.vue?vue&type=style&index=0&id=e6eeec70&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-e6eeec70\"\n\nexport default script","import { render } from \"./Shop.vue?vue&type=template&id=3cbe3af0&scoped=true\"\nimport script from \"./Shop.vue?vue&type=script&lang=js\"\nexport * from \"./Shop.vue?vue&type=script&lang=js\"\n\nimport \"./Shop.vue?vue&type=style&index=0&id=3cbe3af0&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3cbe3af0\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=f1efa55e&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Toast.vue?vue&type=style&index=0&id=3350b2b6&lang=scss&scoped=true\"","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","<template>\n  <div class=\"shopinfo\">\n    <img class=\"shopinfo__img\" :src=\"item.imgUrl\" :alt=\"item.name\" />\n    <div class=\"shopinfo__content\">\n      <div class=\"shopinfo__content__title\">{{ item.name }}</div>\n      <div class=\"shopinfo__content__tags\">\n        <span class=\"shopinfo__content__tag\">月售: {{ item.sales }}+</span>\n        <span class=\"shopinfo__content__tag\">起送: ￥{{ item.expressLimit }}</span>\n        <span class=\"shopinfo__content__tag\">运费: ￥{{ item.expressPrice }}</span>\n      </div>\n      <p class=\"shopinfo__content__highlight\">{{ item.slogan }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ShopInfo',\n  props: ['item']\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../assets/style/variables.scss';\n\n.shopinfo {\n  padding-top: 0.12rem;\n  display: flex;\n  &__img {\n    margin-right: 0.16rem;\n    width: 0.56rem;\n    height: 0.56rem;\n  }\n  &__content {\n    flex: 1;\n    border-bottom: 1px solid $content-bgcolor; // TODO: 1px border\n    padding-bottom: 0.12rem;\n    color: $content-fontcolor;\n    &__title {\n      line-height: 0.22rem;\n      font-size: 0.16rem;\n    }\n    &__tags {\n      margin-top: 0.08rem;\n      line-height: 0.18rem;\n      font-size: 0.13rem;\n    }\n    &__tag {\n      margin-right: 0.16rem;\n      white-space: nowrap;\n    }\n    &__highlight {\n      margin: 0.08rem 0 0;\n      line-height: 0.18rem;\n      font-size: 0.13rem;\n      color: $highlight-fontcolor;\n    }\n  }\n}\n</style>\n","import { render } from \"./ShopInfo.vue?vue&type=template&id=c1619086&scoped=true\"\nimport script from \"./ShopInfo.vue?vue&type=script&lang=js\"\nexport * from \"./ShopInfo.vue?vue&type=script&lang=js\"\n\nimport \"./ShopInfo.vue?vue&type=style&index=0&id=c1619086&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-c1619086\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Shop.vue?vue&type=style&index=0&id=3cbe3af0&lang=scss&scoped=true\"","<template>\n  <div class=\"wrapper\">\n    <img class=\"wrapper__img\" src=\"https://shihongxins.github.io/data-mock/shop/imgs/user.png\" alt=\"\">\n    <form action=\"\" class=\"wrapper__form\" autocomplete=\"off\">\n      <div class=\"wrapper__form__input\">\n        <input\n          type=\"text\"\n          name=\"username\"\n          placeholder=\"请输入手机号\"\n          autocomplete=\"off\"\n          v-model=\"username\">\n      </div>\n      <div class=\"wrapper__form__input\">\n        <input\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"请输入密码\"\n          autocomplete=\"new-password\"\n          v-model=\"password\">\n      </div>\n      <div class=\"wrapper__form__button\">\n        <button class=\"button-login\" type=\"button\" @click=\"handleLogin\">登录</button>\n      </div>\n    </form>\n    <div class=\"wrapper__link\">\n      <a class=\"wrapper__link-register\" @click.prevent=\"handleJumpRegister\">立即注册</a>\n      <a class=\"wrapper__link-findpwd\">找回密码</a>\n    </div>\n  </div>\n  <Toast />\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { post } from '../../utils/request.js'\nimport Toast, { showToast } from '../../components/Toast.vue'\n\n// 登录业务逻辑\nconst useLoginEffect = () => {\n  const router = useRouter()\n  const data = reactive({\n    username: '',\n    password: ''\n  })\n  const handleLogin = async () => {\n    if (data.username.trim() === '' || data.password.trim() === '') {\n      showToast('请输入完整登录信息')\n      return\n    }\n    try {\n      showToast('... ...')\n      const result = await post('/api/user/login', data, { headers: { 'content-type': 'application/json' } })\n      console.log(result)\n      if (result.errno === 0) {\n        showToast('登录成功')\n        localStorage.setItem('isAuthenticated', 'true')\n        router.push({ name: 'Home' })\n      } else {\n        showToast('登录失败' + JSON.stringify(result))\n      }\n    } catch (e) {\n      console.log(e)\n      showToast(`登录出错，${e.message}`)\n    }\n  }\n\n  const { username, password } = toRefs(data)\n  return {\n    username, password, handleLogin\n  }\n}\n\n// 跳转业务逻辑\nconst useJumpRegisterEffect = () => {\n  const router = useRouter()\n  const handleJumpRegister = () => {\n    router.push({ name: 'Register' })\n  }\n\n  return { handleJumpRegister }\n}\n\nexport default {\n  name: 'Login',\n  components: {\n    Toast\n  },\n  // 理解 Composition API 中的 Setup 函数，职责仅仅是业务流程的调度\n  // 而具体业务要看对应的方法，减少了业务与组件的耦合\n  setup () {\n    const { username, password, handleLogin } = useLoginEffect()\n    const { handleJumpRegister } = useJumpRegisterEffect()\n    return {\n      username,\n      password,\n      handleLogin,\n      handleJumpRegister\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../assets/style/variables.scss';\n\n.wrapper {\n  position: absolute;\n  top: 50%;\n  right: 0;\n  left: 0;\n  transform: translateY(-50%);\n  &__img {\n    display: block;\n    margin: 0 auto .16rem;\n    width: .66rem;\n    height: .66rem;\n  }\n  &__form {\n    &__input {\n      margin: 0 .4rem .16rem;\n      input {\n        display: block;\n        box-sizing: border-box;\n        outline: none;\n        border: 1px solid rgba(0,0,0,0.1);\n        border-radius: .06rem;\n        padding: 0 .16rem;\n        width: 100%;\n        height: .48rem;\n        line-height: .48rem;\n        background: #f9f9f9;\n        font-size: .16rem;\n        color: $notice-fontcolor;\n      }\n    }\n    &__button {\n      margin: .32rem .4rem 0;\n      border-radius: .04rem;\n      background: $btn-bgcolor;\n      box-shadow: 0 .04rem .08rem 0 rgba(0,145,255,0.32);\n      button {\n        outline: none;\n        border: none;\n        width: 100%;\n        height: .48rem;\n        line-height: .48rem;\n        font-size: .16rem;\n        background: none;\n        color: $white-fontcolor;\n      }\n    }\n  }\n  &__link {\n    margin-top: .16rem;\n    text-align: center;\n    a {\n      font-size: .14rem;\n      color: $notice-fontcolor;\n      &:first-child {\n        margin-right: 1em;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=f1efa55e&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=f1efa55e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-f1efa55e\"\n\nexport default script"],"sourceRoot":""}